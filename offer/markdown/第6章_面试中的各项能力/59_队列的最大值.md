### 面试题59:队列的最大值

&emsp;题目：滑动窗口的最大值，给定一个数组和滑动窗口的大小，请找出所有滑动窗口里的最大值。例如如果输入数组{2,3,4,2,6,2,5,1}及滑动窗口大小为3，那么一共存在6个滑动窗口，他们的最大值分别为{4,4,6,6,6,5}

&emsp;**思路**:把有可能成为滑动窗口的最大值的数值存入一个双向队列，接着以输入数组{2,3,4,2,6,2,5,1}为例子说明
+ 第一个数字2存入队列中
+ 第二个数子3大于2，因此把2删除，把3添加，队列中为3
+ 第三个数字为4，大于3，同上，此时队列为4
+ 第四个数字2，当4滑出窗口时，2有可能成为窗口最大值，2加入，队列为4，2
+ 第5个数字6，比队列中的所有数字都大，队列中的数字删除，此时队列为6
+ 第6个数字2，6滑出时，2可能是最大值，因此加入，此时队列6，2
+ 第7个数字5，5比1大，此时队列6，5
+ 第8个数字1，此时队列6不应该在滑动窗口内，应该弹出，此时队列5，因此最大

&emsp;除了将数值存入到队列中，也把下标存入到队列中，这样可以通过判断下标差来判断该数值是否在滑动窗口中。


```python
class Solution:
    def maxInWindows(self, num, size):
        # write code here
        # deque存储可能是滑动窗口的最大值的下标index
        # 每次处理一个新数字的时候
        # 1.首先从后往前遍历，把小于该数字的进行弹出
        # 2.然后从前往后遍历，把不属于该滑动窗口的进行弹出
        # 3.计算该下标是否可以开始输出，即该index大于等于index-1的时候才可以输出
        res = []
        deque = []
        for ind in range(len(num)):
            while deque and num[deque[-1]] < num[ind]:
                deque.pop(-1)
            while deque and ind - deque[0] >= size:
                deque.pop(0)
            deque.append(ind)
            if size and ind >= size - 1:
                res.append(num[deque[0]])
        return res
```
